{"remainingRequest":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/babel-loader/lib/index.js!/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/eslint-loader/index.js??ref--13-0!/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/src/2D_d3canvas.js","dependencies":[{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/src/2D_d3canvas.js","mtime":1597924687615},{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnOwppbXBvcnQgKiBhcyBtYXRoIGZyb20gJ21hdGhqcyc7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHsKICB3aW5kb3cuVmlzID0gd2luZG93LlZpcyB8fCB7fTsKCiAgVmlzLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICBWaXMuaXNSdW5uaW5nID0gZmFsc2U7CiAgICBWaXMuc2V0dXAuaW5pdENvbnN0cygpOwogICAgVmlzLnNldHVwLmluaXRWYXJzKCk7CiAgICBBcnJvdy5pbml0KCk7IC8vIGluaXQgYXJyb3dzCgogICAgVmlzLnNldHVwLmluaXREaXNwbGF5KCk7CiAgICBWaXMuc2V0dXAuaW5pdEdyYXBoKCk7CiAgICBWaXMuc2V0dXAuaW5pdERpc3BlcnNpb25EcmFnKCk7CiAgICBWaXMuc2V0dXAuaW5pdFNsaWRlcigpOwogICAgVmlzLnN0YXJ0KCk7CiAgfTsKCiAgVmlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkgewogICAgaWYgKFZpcy5fc3RvcHRpbWUpIHsKICAgICAgVmlzLl90aGVuICs9IERhdGUubm93KCkgLSBWaXMuX3N0b3B0aW1lOyAvLyBhZGQgc3RvcHBlZCB0aW1lCiAgICB9CgogICAgaWYgKCFWaXMuaXNSdW5uaW5nKSB7CiAgICAgIFZpcy5jb3JlLmZyYW1lKCk7CiAgICAgIFZpcy5pc1J1bm5pbmcgPSB0cnVlOwogICAgfQogIH07CgogIFZpcy5zdG9wID0gZnVuY3Rpb24gKCkgewogICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKFZpcy5hbmltYXRpb25GcmFtZUxvb3ApOwogICAgVmlzLmlzUnVubmluZyA9IGZhbHNlOwogICAgVmlzLl9zdG9wdGltZSA9IERhdGUubm93KCk7IC8vIHJlY29yZCB3aGVuIGFuaW1hdGlvbiBwYXVzZWQKICB9OwoKICBWaXMuY29yZSA9IHsKICAgIGZyYW1lOiBmdW5jdGlvbiAoKSB7CiAgICAgIFZpcy50ID0gKERhdGUubm93KCkgLSBWaXMuX3RoZW4pIC8gMjUwOyAvLyB0aW1lIHNpbmNlIHN0YXJ0IGluIHNlY29uZHMKCiAgICAgIFZpcy5jb3JlLnVwZGF0ZSgpOwogICAgICBWaXMuY29yZS5hbmltYXRlKCk7CiAgICAgIFZpcy5hbmltYXRpb25GcmFtZUxvb3AgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKFZpcy5jb3JlLmZyYW1lKTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLndvcmtlcnMuY2FsY1BhcmFtcygpOwogICAgICBWaXMud29ya2Vycy5jYWxjUG9zKCk7CiAgICAgIFZpcy53b3JrZXJzLmNhbGNQaGFzZSgpOwogICAgfSwKICAgIGFuaW1hdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIFZpcy5jYW52YXN4LCBWaXMuY2FudmFzeSk7CiAgICAgIFZpcy5jb250ZXh0LmZpbGxTdHlsZSA9ICdvcmFuZ2UnOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBWaXMuTjsgaSsrKSB7CiAgICAgICAgVmlzLmNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICAgICAgVmlzLmNvbnRleHQuYXJjKFZpcy5jb252ZXJ0Q2FudmFzWChWaXMueFtpXSksIFZpcy5jb252ZXJ0Q2FudmFzWShWaXMueVtpXSksIFZpcy5jb252ZXJ0Q2FudmFzWChWaXMucG9pbnRSKSwgMCwgMiAqIE1hdGguUEkpOwogICAgICAgIFZpcy5jb250ZXh0LmZpbGwoKTsKICAgICAgfSAvLyBwaWNrIHRoZSBtaWRkbGUgcGFydGljbGUgdG8gdHJhY2sgd2l0aCBhIGJsYWNrIGRvdCAKCgogICAgICBWaXMuY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snOwogICAgICBWaXMuY29udGV4dC5iZWdpblBhdGgoKTsKICAgICAgVmlzLmNvbnRleHQuYXJjKFZpcy5jb252ZXJ0Q2FudmFzWChWaXMueFtNYXRoLnJvdW5kKFZpcy5OIC8gMiAtIFZpcy5OeSAvIDIpXSksIFZpcy5jb252ZXJ0Q2FudmFzWShWaXMueVtNYXRoLnJvdW5kKFZpcy5OIC8gMiAtIFZpcy5OeSAvIDIpXSksIFZpcy5jb252ZXJ0Q2FudmFzWChWaXMucG9pbnRSICogMS4wMyksIDAsIDIgKiBNYXRoLlBJKTsKICAgICAgVmlzLmNvbnRleHQuZmlsbCgpOyAvLyBkcmF3IHBoYXNlIHRyYWNrCgogICAgICBWaXMuY29udGV4dC5zdHJva2VTdHlsZSA9ICdncmVlbic7CiAgICAgIFZpcy5jb250ZXh0LmxpbmVXaWR0aCA9IDM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFZpcy5OcGhhc2U7IGkrKykgewogICAgICAgIFZpcy5jb250ZXh0LmJlZ2luUGF0aCgpOwogICAgICAgIFZpcy5jb250ZXh0Lm1vdmVUbyhWaXMuY29udmVydENhbnZhc1goVmlzLnBoYXNleFsyICogaV0pLCBWaXMuY29udmVydENhbnZhc1koVmlzLnBoYXNleVsyICogaV0pKTsKICAgICAgICBWaXMuY29udGV4dC5saW5lVG8oVmlzLmNvbnZlcnRDYW52YXNYKFZpcy5waGFzZXhbMiAqIGkgKyAxXSksIFZpcy5jb252ZXJ0Q2FudmFzWShWaXMucGhhc2V5WzIgKiBpICsgMV0pKTsKICAgICAgICBWaXMuY29udGV4dC5zdHJva2UoKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVNsaWRlcnM6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLmR4UmFuZ2UudmFsdWUgPSBWaXMuZHg7CiAgICAgIFZpcy5keERpc3BsYXkudGV4dENvbnRlbnQgPSBOdW1iZXIoVmlzLmR4KS50b0ZpeGVkKDIpOwogICAgICBWaXMuZHlSYW5nZS52YWx1ZSA9IFZpcy5keTsKICAgICAgVmlzLmR5RGlzcGxheS50ZXh0Q29udGVudCA9IE51bWJlcihWaXMuZHkpLnRvRml4ZWQoMik7CiAgICAgIFZpcy51eFJhbmdlLnZhbHVlID0gVmlzLnV4OwogICAgICBWaXMudXhEaXNwbGF5LnRleHRDb250ZW50ID0gTnVtYmVyKFZpcy51eCkudG9GaXhlZCgyKTsKICAgICAgVmlzLnV5UmFuZ2UudmFsdWUgPSBWaXMudXk7CiAgICAgIFZpcy51eURpc3BsYXkudGV4dENvbnRlbnQgPSBOdW1iZXIoVmlzLnV5KS50b0ZpeGVkKDIpOwogICAgICBWaXMuY29yZS51cGRhdGVEaXNwbGF5KCk7CiAgICB9LAogICAgdXBkYXRlRGlzcGxheTogZnVuY3Rpb24gKCkgewogICAgICBsZXQgdWt2ZWMgPSBbVmlzLnV4LCBWaXMudXksIDBdOwogICAgICBsZXQga3ggPSBWaXMuZHggKiBNYXRoLlBJIC8gVmlzLmE7CiAgICAgIGxldCBreSA9IFZpcy5keSAqIE1hdGguUEkgLyBWaXMuYTsKICAgICAgbGV0IGt2ZWMgPSBba3gsIGt5LCAwXTsgLy9VcGRhdGUgdGhlIHRleHQgZm9yIGNyb3NzIGFuZCBkb3QgcHJvZHVjdHMKCiAgICAgIGxldCBkb3Rwcm9kdWN0ID0gTWF0aC5yb3VuZCgxMDAgKiBNYXRoLmFicyhtYXRoLmRvdChrdmVjLCB1a3ZlYykpKSAvIDEwMDsKICAgICAgVmlzLmRvdERpc3BsYXkudGV4dENvbnRlbnQgPSBkb3Rwcm9kdWN0LnRvU3RyaW5nKCk7CiAgICAgIGxldCBjcm9zc3Byb2R1Y3QgPSBNYXRoLnJvdW5kKE1hdGguYWJzKDEwMCAqIE1hdGgucG93KE1hdGgucG93KG1hdGguY3Jvc3Moa3ZlYywgdWt2ZWMpWzBdLCAyKSArIE1hdGgucG93KG1hdGguY3Jvc3Moa3ZlYywgdWt2ZWMpWzFdLCAyKSArIE1hdGgucG93KG1hdGguY3Jvc3Moa3ZlYywgdWt2ZWMpWzJdLCAyKSwgMC41KSkpIC8gMTAwOwogICAgICBWaXMuY3Jvc3NEaXNwbGF5LnRleHRDb250ZW50ID0gY3Jvc3Nwcm9kdWN0LnRvU3RyaW5nKCk7IC8vVXBkYXRlIGRvdCBvbiB0aGUgZGlzcGVyc2lvbiBncmFwaAoKICAgICAgdmFyIGN4ID0gVmlzLmRpc3BlcnNpb25HcmFwaFdpZHRoICogKFZpcy5keCArIDEpIC8gMjsKICAgICAgdmFyIGN5ID0gVmlzLmRpc3BlcnNpb25HcmFwaEhlaWdodCAqICgxIC0gVmlzLmR5KSAvIDI7CiAgICAgIFZpcy5kaXNwZXJzaW9uRG90LmF0dHIoImN4IiwgY3gpLmF0dHIoImN5IiwgY3kpOwogICAgfQogIH07CiAgVmlzLndvcmtlcnMgPSB7CiAgICBjYWxjUGFyYW1zOiBmdW5jdGlvbiAoKSB7CiAgICAgIFZpcy5rID0gTWF0aC5zcXJ0KFZpcy5reCAqKiAyICsgVmlzLmt5ICoqIDIpOwogICAgICBWaXMua3ggPSBWaXMuZHggKiBNYXRoLlBJIC8gVmlzLmE7CiAgICAgIFZpcy5reSA9IFZpcy5keSAqIE1hdGguUEkgLyBWaXMuYTsKICAgICAgVmlzLncgPSAyICogVmlzLmR3ICogTWF0aC5zcXJ0KE1hdGguc2luKFZpcy5reCAqIFZpcy5hIC8gMikgKiogMiArIE1hdGguc2luKFZpcy5reSAqIFZpcy5hIC8gMikgKiogMik7CiAgICAgIFZpcy5sYW1iID0gMiAqIE1hdGguUEkgLyBWaXMuazsgLy8gdXBkYXRlIHNwYWNpbmcgb2YgcGhhc2UgdHJhY2tlciAKICAgIH0sCiAgICBjYWxjUG9zOiBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVmlzLk54OyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IFZpcy5OeTsgaisrKSB7CiAgICAgICAgICBsZXQgbiA9IFZpcy5OeSAqIGkgKyBqOwogICAgICAgICAgbGV0IG9mZnNldCA9IE1hdGguY29zKFZpcy5reCAqIFZpcy5hICogaSArIFZpcy5reSAqIFZpcy5hICogaiAtIFZpcy53ICogVmlzLnQpOwogICAgICAgICAgVmlzLnhbbl0gPSBpICogVmlzLmEgKyBWaXMudXggKiBvZmZzZXQ7CiAgICAgICAgICBWaXMueVtuXSA9IGogKiBWaXMuYSArIFZpcy51eSAqIG9mZnNldDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjYWxjUGhhc2U6IGZ1bmN0aW9uICgpIHsKICAgICAgbGV0IHYgPSBWaXMudyAvIFZpcy5rOwogICAgICBsZXQgdnggPSB2ICogVmlzLmt4IC8gVmlzLms7CiAgICAgIGxldCB2eSA9IHYgKiBWaXMua3kgLyBWaXMuazsKICAgICAgbGV0IG0gPSB2eSAvIHZ4OyAvLyBncmFkaWVudCBvZiBsaW5lCgogICAgICBsZXQgbWkgPSB2eCAvIHZ5OyAvLyBpbnZlcnNlIG9mIGdyYWRpZW50CgogICAgICB2YXIgc3BhY2luZzsKICAgICAgdmFyIHRfc3BhY2U7CgogICAgICBpZiAobSA+PSAtMSAmJiBtIDw9IDEpIHsKICAgICAgICAvLyBkbyB5IHByb2Nlc3NpbmcKICAgICAgICBzcGFjaW5nID0gVmlzLmxhbWIgKiBWaXMua3kgLyBWaXMuazsgLy8gZGlzdGFuY2UgYmV0d2VlbiBwaGFzZXMgCgogICAgICAgIGlmICh2eSA9PSAwKSB7CiAgICAgICAgICBtaSA9IDEwMDAwMDAwOwogICAgICAgICAgdF9zcGFjZSA9IDIwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0X3NwYWNlID0gc3BhY2luZyAvIHZ5OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBkbyB4IHByb2Nlc3NpbmcKICAgICAgICBzcGFjaW5nID0gVmlzLmxhbWIgKiBWaXMua3ggLyBWaXMuazsKCiAgICAgICAgaWYgKHZ4ID09IDApIHsKICAgICAgICAgIG0gPSAxMDAwMDAwMDsKICAgICAgICAgIHRfc3BhY2UgPSAyMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdF9zcGFjZSA9IHNwYWNpbmcgLyB2eDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGxldCBvZmZzZXQgPSAxMDsKICAgICAgbGV0IHQgPSBWaXMudCAlIChWaXMuTnggKiB0X3NwYWNlIC8gMik7IC8vIGhldXJpc3RpYyAjIG9mIHRpbWUgc3BhY2luZ3MgdW50aWwgd3JhcCBhcm91bmQgCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFZpcy5OcGhhc2U7IGkrKykgewogICAgICAgIGxldCBUID0gdCArIChpIC0gVmlzLk5waGFzZSAvIDIpICogdF9zcGFjZSArIFZpcy5zaGlmdDsgLy8gc2hpZnQgZWFjaCBwaGFzZSBwYXJ0aWNsZSAKICAgICAgICAvLyAoKzEgaGV1cmlzdGljIHRvIGdldCBwaGFzZSBjb3JyZWN0KQoKICAgICAgICBpZiAobSA+PSAtMSAmJiBtIDw9IDEpIHsKICAgICAgICAgIC8vIGRvIHggcHJvY2Vzc2luZwogICAgICAgICAgbGV0IHggPSBUICogdng7CiAgICAgICAgICBsZXQgeSA9IG0gKiAoVCAqIHZ4IC0gVmlzLk54ICogVmlzLmEgLyAyKSArIFZpcy5OeSAqIFZpcy5hIC8gMjsKICAgICAgICAgIFZpcy5waGFzZXhbMiAqIGldID0geCAtIG9mZnNldDsKICAgICAgICAgIFZpcy5waGFzZXlbMiAqIGldID0geSArIG1pICogb2Zmc2V0OwogICAgICAgICAgVmlzLnBoYXNleFsyICogaSArIDFdID0geCArIG9mZnNldDsKICAgICAgICAgIFZpcy5waGFzZXlbMiAqIGkgKyAxXSA9IHkgLSBtaSAqIG9mZnNldDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gZG8geSBwcm9jZXNzaW5nCiAgICAgICAgICBsZXQgeCA9IG1pICogKFQgKiB2eSAtIFZpcy5OeSAqIFZpcy5hIC8gMikgKyBWaXMuTnggKiBWaXMuYSAvIDI7CiAgICAgICAgICBsZXQgeSA9IFQgKiB2eTsKICAgICAgICAgIFZpcy5waGFzZXhbMiAqIGldID0geCArIG0gKiBvZmZzZXQ7CiAgICAgICAgICBWaXMucGhhc2V5WzIgKiBpXSA9IHkgLSBvZmZzZXQ7CiAgICAgICAgICBWaXMucGhhc2V4WzIgKiBpICsgMV0gPSB4IC0gbSAqIG9mZnNldDsKICAgICAgICAgIFZpcy5waGFzZXlbMiAqIGkgKyAxXSA9IHkgKyBvZmZzZXQ7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKICBWaXMuc2V0dXAgPSB7CiAgICBpbml0Q29uc3RzOiBmdW5jdGlvbiAoKSB7CiAgICAgIFZpcy5hID0gMTsgLy8gYXRvbWljIHNwYWNpbmcKCiAgICAgIFZpcy5kdyA9IDE7IC8vIGRlYnllIHdhdmVsZW5ndGgKCiAgICAgIFZpcy5OeCA9IDIwOyAvLyAjIG9mIGF0b21zIGluIHggZGlyZWN0aW9uCgogICAgICBWaXMuTnkgPSAyMDsgLy8gIyBvZiBhdG9tcyBpbiB5IGRpcmVjdGlvbgoKICAgICAgVmlzLk4gPSBWaXMuTnggKiBWaXMuTnk7CiAgICAgIFZpcy5OcGhhc2UgPSAyICogVmlzLk54OwogICAgICBWaXMuY2FudmFzeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLXZpcycpLm9mZnNldFdpZHRoOwogICAgICBWaXMuY2FudmFzeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLXZpcycpLm9mZnNldEhlaWdodDsKICAgICAgVmlzLnBvaW50UiA9IDAuMjAgKiBWaXMuYTsKICAgIH0sCiAgICBpbml0VmFyczogZnVuY3Rpb24gKCkgewogICAgICBWaXMuX3RoZW4gPSBEYXRlLm5vdygpOwogICAgICBWaXMuZHggPSAwLjEwOyAvLyAlIG9mIG1heCB4IHdhdmVudW1iZXIsICgtMSwgMSkKCiAgICAgIFZpcy5keSA9IDAuMTA7IC8vICUgb2YgbWF4IHkgd2F2ZW51bWJlciwgKC0xLCAxKQoKICAgICAgVmlzLnV4ID0gLTAuNTA7IC8vIHggYW1wbGl0dWRlCgogICAgICBWaXMudXkgPSAtMC41MDsgLy8geSBhbXBsaXR1ZGUKCiAgICAgIFZpcy54ID0gbmV3IEFycmF5KFZpcy5OKTsKICAgICAgVmlzLnkgPSBuZXcgQXJyYXkoVmlzLk4pOwogICAgICBWaXMuc2hpZnQgPSAtNS4zOwogICAgICBWaXMucGhhc2V4ID0gbmV3IEFycmF5KDIgKiBWaXMuTnBoYXNlKTsgLy8gcmVxdWlyZXMgdHdvIHBvaW50cyB0byBkcmF3IGEgbGluZQoKICAgICAgVmlzLnBoYXNleSA9IG5ldyBBcnJheSgyICogVmlzLk5waGFzZSk7CiAgICB9LAogICAgaW5pdEdyYXBoOiBmdW5jdGlvbiAoKSB7CiAgICAgIC8vQ29kZSBmb3IgbWFpbi12aXMKICAgICAgVmlzLmNhbnZhcyA9IGQzLnNlbGVjdCgnI21haW4tdmlzJykuYXBwZW5kKCdjYW52YXMnKS5hdHRyKCd3aWR0aCcsIFZpcy5jYW52YXN4KS5hdHRyKCdoZWlnaHQnLCBWaXMuY2FudmFzeSk7CiAgICAgIFZpcy5jb250ZXh0ID0gVmlzLmNhbnZhcy5ub2RlKCkuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgVmlzLmNvbnZlcnRDYW52YXNYID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAsIFZpcy5OeCAqIFZpcy5hXSkucmFuZ2UoWzAsIFZpcy5jYW52YXN4XSk7CiAgICAgIFZpcy5jb252ZXJ0Q2FudmFzWSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBWaXMuTnkgKiBWaXMuYV0pLnJhbmdlKFtWaXMuY2FudmFzeSwgMF0pOyAvL0NvZGUgZm9yIGRpc3BlcnNpb24gZ3JhcGgKCiAgICAgIGZ1bmN0aW9uIG9tZWdhX2soZHgsIGR5KSB7CiAgICAgICAgcmV0dXJuIE1hdGguc3FydCg0ICogMSAqIChNYXRoLnBvdyhNYXRoLnNpbihkeCAqIE1hdGguUEkgKiAxIC8gMiksIDIpICsgTWF0aC5wb3coTWF0aC5zaW4oZHkgKiBNYXRoLlBJICogMSAvIDIpLCAyKSkpOwogICAgICB9CgogICAgICBWaXMuZGlzcGVyc2lvbkdyYXBoV2lkdGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGVyc2lvbi1ncmFwaCcpLm9mZnNldFdpZHRoOwogICAgICBWaXMuZGlzcGVyc2lvbkdyYXBoSGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BlcnNpb24tZ3JhcGgnKS5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciBueCA9IFZpcy5kaXNwZXJzaW9uR3JhcGhXaWR0aCArIDEsCiAgICAgICAgICBueSA9IFZpcy5kaXNwZXJzaW9uR3JhcGhIZWlnaHQgKyAxLAogICAgICAgICAgdmFsdWVzID0gbmV3IEFycmF5KG54ICogbnkpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBueDsgaSsrKSB7CiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBueTsgaisrKSB7CiAgICAgICAgICB2YXIgayA9IGkgKyBueCAqIGo7CiAgICAgICAgICB2YXIgZHggPSAtMSArIDIgKiBpIC8gbng7CiAgICAgICAgICB2YXIgZHkgPSAtMSArIDIgKiBqIC8gbnk7CiAgICAgICAgICB2YWx1ZXNba10gPSBvbWVnYV9rKGR4LCBkeSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBWaXMuZGlzcGVyc2lvbkdyYXBoID0gZDMuc2VsZWN0KCcjZGlzcGVyc2lvbi1ncmFwaCcpLmFwcGVuZCgnY2FudmFzJykuYXR0cignd2lkdGgnLCBWaXMuZGlzcGVyc2lvbkdyYXBoV2lkdGgpLmF0dHIoJ2hlaWdodCcsIFZpcy5kaXNwZXJzaW9uR3JhcGhIZWlnaHQpOwogICAgICBWaXMuZGlzcGVyc2lvbkNvbnRleHQgPSBWaXMuZGlzcGVyc2lvbkdyYXBoLm5vZGUoKS5nZXRDb250ZXh0KCcyZCcpOyAvL01ha2luZyBjb250b3VyCgogICAgICB2YXIgY29sb3IgPSBkMy5zY2FsZVNlcXVlbnRpYWwoZDMuaW50ZXJwb2xhdGVUdXJibykuZG9tYWluKFswLCAyLjgyXSk7CiAgICAgIHZhciBwYXRoID0gZDMuZ2VvUGF0aChudWxsLCBWaXMuZGlzcGVyc2lvbkNvbnRleHQpOwogICAgICB2YXIgdGhyZXNob2xkcyA9IGQzLnJhbmdlKDAsIDIuODIsIDAuMDEpOwogICAgICB2YXIgY29udG91cnMgPSBkMy5jb250b3VycygpLnNpemUoW254LCBueV0pOwoKICAgICAgZnVuY3Rpb24gZmlsbEdyYXBoKGdlb21ldHJ5KSB7CiAgICAgICAgVmlzLmRpc3BlcnNpb25Db250ZXh0LmJlZ2luUGF0aCgpOwogICAgICAgIHBhdGgoZ2VvbWV0cnkpOwogICAgICAgIFZpcy5kaXNwZXJzaW9uQ29udGV4dC5maWxsU3R5bGUgPSBjb2xvcihnZW9tZXRyeS52YWx1ZSk7CiAgICAgICAgVmlzLmRpc3BlcnNpb25Db250ZXh0LmZpbGwoKTsKICAgICAgfQoKICAgICAgY29udG91cnMudGhyZXNob2xkcyh0aHJlc2hvbGRzKSh2YWx1ZXMpLmZvckVhY2goZmlsbEdyYXBoKTsgLy9QcmVwYXJpbmcgU1ZHIGZvciBkaXNwZXJzaW9uIGRvdCBhbmQgbGVnZW5kCgogICAgICBWaXMuZGlzcGVyc2lvblNWRyA9IGQzLnNlbGVjdCgnI2Rpc3BlcnNpb24tZ3JhcGgnKS5hcHBlbmQoInN2ZyIpLmF0dHIoJ3dpZHRoJywgMS40ICogVmlzLmRpc3BlcnNpb25HcmFwaFdpZHRoKS5hdHRyKCdoZWlnaHQnLCBWaXMuZGlzcGVyc2lvbkdyYXBoSGVpZ2h0KS5hdHRyKCd0cmFuc2Zvcm0nLCAidHJhbnNsYXRlKDAsICIgKyAtVmlzLmRpc3BlcnNpb25HcmFwaEhlaWdodCArICIpIik7IC8vQm94IHRvIGNoZWNrIGlmIENhbnZhcyBhbmQgU1ZHIGFyZSBhbGlnbmVkCgogICAgICBWaXMuZGlzcGVyc2lvblNWRy5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IiwgMCkuYXR0cigieSIsIDApLmF0dHIoImhlaWdodCIsIFZpcy5kaXNwZXJzaW9uR3JhcGhIZWlnaHQpLmF0dHIoIndpZHRoIiwgVmlzLmRpc3BlcnNpb25HcmFwaFdpZHRoKS5zdHlsZSgic3Ryb2tlIiwgJ2JsYWNrJykuc3R5bGUoImZpbGwiLCAibm9uZSIpLnN0eWxlKCJzdHJva2Utd2lkdGgiLCAxKTsKICAgICAgdmFyIGxlZ2VuZFhPZmZzZXQgPSAxLjE3NSAqIFZpcy5kaXNwZXJzaW9uR3JhcGhXaWR0aDsKICAgICAgdmFyIGxlZ2VuZFlPZmZzZXQgPSAwLjEgKiBWaXMuZGlzcGVyc2lvbkdyYXBoSGVpZ2h0OwogICAgICB2YXIgbGVnZW5kSGVpZ2h0ID0gMC44ICogVmlzLmRpc3BlcnNpb25HcmFwaEhlaWdodDsKICAgICAgdmFyIGxlZ2VuZFdpZHRoID0gMC4xNSAqIFZpcy5kaXNwZXJzaW9uR3JhcGhXaWR0aDsgLy9Cb3ggZm9yIGxlZ2VuZCBzY2FsZQoKICAgICAgVmlzLmxlZ2VuZFNWRyA9IFZpcy5kaXNwZXJzaW9uU1ZHLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCBsZWdlbmRYT2Zmc2V0KS5hdHRyKCJ5IiwgbGVnZW5kWU9mZnNldCkuYXR0cigiaGVpZ2h0IiwgbGVnZW5kSGVpZ2h0KS5hdHRyKCJ3aWR0aCIsIGxlZ2VuZFdpZHRoKS5zdHlsZSgic3Ryb2tlIiwgJ2JsYWNrJykuc3R5bGUoImZpbGwiLCAibm9uZSIpLnN0eWxlKCJzdHJva2Utd2lkdGgiLCAxKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTQ7IGkrKykgewogICAgICAgIFZpcy5kaXNwZXJzaW9uU1ZHLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCBsZWdlbmRYT2Zmc2V0KS5hdHRyKCJ5IiwgbGVnZW5kSGVpZ2h0ICogKDE0IC0gaSkgLyAxNCkuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLCIgKyBsZWdlbmRZT2Zmc2V0IC8gMi4yICsgIikiKS5hdHRyKCJoZWlnaHQiLCBsZWdlbmRIZWlnaHQgLyAxNCkuYXR0cigid2lkdGgiLCBsZWdlbmRXaWR0aCkuc3R5bGUoImZpbGwiLCBjb2xvcigyLjgyICogaSAvIDE0KSk7CiAgICAgIH0KCiAgICAgIHZhciBsZWdlbmRTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCAyLjhdKS5yYW5nZShbbGVnZW5kSGVpZ2h0ICsgbGVnZW5kWU9mZnNldCwgbGVnZW5kWU9mZnNldF0pOyAvL0xlZ2VuZCBzY2FsZSBheGlzCgogICAgICBWaXMuZGlzcGVyc2lvblNWRy5hcHBlbmQoJ2cnKS5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyBsZWdlbmRYT2Zmc2V0ICsgIiwgMCkiKSAvLyBQb3NpdGlvbiBvZiB4IGF4aXMKICAgICAgLmNhbGwoZDMuYXhpc0xlZnQobGVnZW5kU2NhbGUpKTsgLy9MZWdlbmQgc2NhbGUgdGl0bGUKCiAgICAgIFZpcy5kaXNwZXJzaW9uU1ZHLmFwcGVuZCgidGV4dCIpLmF0dHIoInRleHQtYW5jaG9yIiwgImVuZCIpLmF0dHIoImZvbnQtc3R5bGUiLCAiaXRhbGljIikuYXR0cignZm9udC1zaXplJywgMTAgKiBsZWdlbmRXaWR0aCAvIDI1KS5hdHRyKCJ4IiwgbGVnZW5kWE9mZnNldCArIGxlZ2VuZFdpZHRoKS5hdHRyKCJ5IiwgbGVnZW5kWU9mZnNldCAvIDIpLnRleHQoIs+JKGspID0gRS/EpyIpOwogICAgICBWaXMuZGlzcGVyc2lvbkRvdCA9IFZpcy5kaXNwZXJzaW9uU1ZHLmFwcGVuZCgnY2lyY2xlJykuYXR0cigiY3giLCAwKS5hdHRyKCJjeSIsIDApLmF0dHIoInIiLCA1KS5hdHRyKCJmaWxsIiwgImJsYWNrIik7CiAgICB9LAogICAgaW5pdERpc3BlcnNpb25EcmFnOiBmdW5jdGlvbiAoKSB7CiAgICAgIGZ1bmN0aW9uIGRpc3BlcnNpb25EcmFnZ2VkKCkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgeCA9IDIgKiBkMy5ldmVudC54IC8gVmlzLmRpc3BlcnNpb25HcmFwaFdpZHRoIC0gMTsKICAgICAgICAgIHZhciB5ID0gMSAtIDIgKiBkMy5ldmVudC55IC8gVmlzLmRpc3BlcnNpb25HcmFwaEhlaWdodDsKCiAgICAgICAgICBpZiAoeCA+IDEpIHsKICAgICAgICAgICAgeCA9IDE7CiAgICAgICAgICB9IGVsc2UgaWYgKHggPCAtMSkgewogICAgICAgICAgICB4ID0gLTE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHkgPiAxKSB7CiAgICAgICAgICAgIHkgPSAxOwogICAgICAgICAgfSBlbHNlIGlmICh5IDwgLTEpIHsKICAgICAgICAgICAgeSA9IC0xOwogICAgICAgICAgfQoKICAgICAgICAgIFZpcy5keCA9IHg7CiAgICAgICAgICBWaXMuZHkgPSB5OwogICAgICAgICAgQXJyb3cuckFycm93LnggPSB4OwogICAgICAgICAgQXJyb3cuckFycm93LnkgPSB5OwogICAgICAgICAgQXJyb3cuaGVscGVycy51cGRhdGVBcnJvdyhBcnJvdy5yQXJyb3cpOwogICAgICAgICAgVmlzLmNvcmUudXBkYXRlU2xpZGVycygpOyAvLyB0cmlnZ2VyIHVwZGF0ZSBvZiBzbGlkZXJzIGluIHZpcwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIFZpcy5kaXNwZXJzaW9uRG90LmNhbGwoZDMuZHJhZygpLm9uKCdkcmFnJywgZGlzcGVyc2lvbkRyYWdnZWQoVmlzLmRpc3BlcnNpb25Eb3QpKSk7CiAgICB9LAogICAgaW5pdFNsaWRlcjogZnVuY3Rpb24gKCkgewogICAgICAvLyByIHNsaWRlcnMKICAgICAgVmlzLmR4UmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHgtcmFuZ2UnKTsKICAgICAgVmlzLmR4RGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeC1kaXNwbGF5Jyk7CiAgICAgIFZpcy5keFJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkgewogICAgICAgIFZpcy5keCA9IFZpcy5keFJhbmdlLnZhbHVlOwogICAgICAgIFZpcy5keERpc3BsYXkudGV4dENvbnRlbnQgPSBWaXMuZHg7CiAgICAgICAgQXJyb3cuckFycm93LnggPSBwYXJzZUZsb2F0KFZpcy5keCk7CiAgICAgICAgQXJyb3cuY29yZS5kcmF3KCk7CiAgICAgICAgVmlzLmNvcmUudXBkYXRlRGlzcGxheSgpOwogICAgICB9KTsKICAgICAgVmlzLmR5UmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHktcmFuZ2UnKTsKICAgICAgVmlzLmR5RGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeS1kaXNwbGF5Jyk7CiAgICAgIFZpcy5keVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkgewogICAgICAgIFZpcy5keSA9IFZpcy5keVJhbmdlLnZhbHVlOwogICAgICAgIFZpcy5keURpc3BsYXkudGV4dENvbnRlbnQgPSBWaXMuZHk7CiAgICAgICAgQXJyb3cuckFycm93LnkgPSBwYXJzZUZsb2F0KFZpcy5keSk7CiAgICAgICAgQXJyb3cuY29yZS5kcmF3KCk7CiAgICAgICAgVmlzLmNvcmUudXBkYXRlRGlzcGxheSgpOwogICAgICB9KTsgLy8gdSBzbGlkZXJzCgogICAgICBWaXMudXhSYW5nZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1a3gtcmFuZ2UnKTsKICAgICAgVmlzLnV4RGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1a3gtZGlzcGxheScpOwogICAgICBWaXMudXhSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBWaXMudXggPSBWaXMudXhSYW5nZS52YWx1ZTsKICAgICAgICBWaXMudXhEaXNwbGF5LnRleHRDb250ZW50ID0gVmlzLnV4OwogICAgICAgIEFycm93LnVBcnJvdy54ID0gcGFyc2VGbG9hdChWaXMudXgpOwogICAgICAgIEFycm93LmNvcmUuZHJhdygpOwogICAgICAgIFZpcy5jb3JlLnVwZGF0ZURpc3BsYXkoKTsKICAgICAgfSk7CiAgICAgIFZpcy51eVJhbmdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VreS1yYW5nZScpOwogICAgICBWaXMudXlEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VreS1kaXNwbGF5Jyk7CiAgICAgIFZpcy51eVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkgewogICAgICAgIFZpcy51eSA9IFZpcy51eVJhbmdlLnZhbHVlOwogICAgICAgIFZpcy51eURpc3BsYXkudGV4dENvbnRlbnQgPSBWaXMudXk7CiAgICAgICAgQXJyb3cudUFycm93LnkgPSBwYXJzZUZsb2F0KFZpcy51eSk7CiAgICAgICAgQXJyb3cuY29yZS5kcmF3KCk7CiAgICAgICAgVmlzLmNvcmUudXBkYXRlRGlzcGxheSgpOwogICAgICB9KTsKICAgICAgVmlzLmNvcmUudXBkYXRlU2xpZGVycygpOwogICAgfSwKICAgIGluaXREaXNwbGF5OiBmdW5jdGlvbiAoKSB7CiAgICAgIFZpcy5kb3REaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvdHByb2R1Y3QiKTsKICAgICAgVmlzLmNyb3NzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjcm9zc3Byb2R1Y3QiKTsKICAgIH0KICB9OyAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vCiAgLy8gSW50ZXJhY3RpdmUgQXJyb3cgT2JqZWN0ICAgICAgICAvLwogIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCiAgd2luZG93LkFycm93ID0gd2luZG93LkFycm93IHx8IHt9OwoKICBBcnJvdy5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgQXJyb3cuc2V0dXAuaW5pdENvbnN0KCk7CiAgICBBcnJvdy5zZXR1cC5pbml0T2JqZWN0cygpOwogICAgQXJyb3cuc2V0dXAuaW5pdERyYWcoKTsKICB9OwoKICBBcnJvdy5jb3JlID0gewogICAgZHJhdzogZnVuY3Rpb24gKCkgewogICAgICBBcnJvdy5jb3JlLmRyYXdBcnJvdyhBcnJvdy5yQXJyb3cpOwogICAgICBBcnJvdy5jb3JlLmRyYXdBcnJvdyhBcnJvdy51QXJyb3cpOwogICAgfSwKICAgIGRyYXdBcnJvdzogZnVuY3Rpb24gKGFycm93KSB7CiAgICAgIEFycm93LmhlbHBlcnMudXBkYXRlQXJyb3coYXJyb3cpOwogICAgfQogIH07CiAgQXJyb3cuaGVscGVycyA9IHsKICAgIHVwZGF0ZUFycm93OiBmdW5jdGlvbiAoYXJyb3cpIHsKICAgICAgdmFyIHRpcHggPSAoYXJyb3cueCArIDEpICogQXJyb3cud2lkdGggLyAyOwogICAgICB2YXIgdGlweSA9ICgxIC0gYXJyb3cueSkgKiBBcnJvdy5oZWlnaHQgLyAyOwogICAgICB2YXIgZm9udFNpemUgPSAxMjsKICAgICAgYXJyb3cuYm9keS5hdHRyKCd4MicsIHRpcHgpLmF0dHIoJ3kyJywgdGlweSk7CiAgICAgIGFycm93LnRpcC5hdHRyKCdjeCcsIHRpcHgpLmF0dHIoJ2N5JywgdGlweSk7CgogICAgICBpZiAodGlweSA+IDIyKSB7CiAgICAgICAgaWYgKHRpcHggPCA4NSkgewogICAgICAgICAgYXJyb3cudGV4dC5hdHRyKCd4JywgdGlweCArIDEwKS5hdHRyKCd5JywgdGlweSAtIDcuNSkuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpLnRleHQoYXJyb3cuc3RleHQgKyAnICgnICsgTnVtYmVyKGFycm93LngpLnRvRml4ZWQoMikgKyAnLCAnICsgTnVtYmVyKGFycm93LnkpLnRvRml4ZWQoMikgKyAnKScpOwogICAgICAgIH0gZWxzZSBpZiAodGlweCA8IDEwMCkgewogICAgICAgICAgYXJyb3cudGV4dC5hdHRyKCd4JywgdGlweCArIDEwIC0gODApLmF0dHIoJ3knLCB0aXB5IC0gNy41KS5hdHRyKCdmb250LXNpemUnLCBmb250U2l6ZSkudGV4dChhcnJvdy5zdGV4dCArICcgKCcgKyBOdW1iZXIoYXJyb3cueCkudG9GaXhlZCgyKSArICcsICcgKyBOdW1iZXIoYXJyb3cueSkudG9GaXhlZCgyKSArICcpJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFycm93LnRleHQuYXR0cigneCcsIHRpcHggKyAxMCAtIDEwNSkuYXR0cigneScsIHRpcHkgLSA3LjUpLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKS50ZXh0KGFycm93LnN0ZXh0ICsgJyAoJyArIE51bWJlcihhcnJvdy54KS50b0ZpeGVkKDIpICsgJywgJyArIE51bWJlcihhcnJvdy55KS50b0ZpeGVkKDIpICsgJyknKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRpcHggPCA4NSkgewogICAgICAgICAgYXJyb3cudGV4dC5hdHRyKCd4JywgdGlweCkuYXR0cigneScsIHRpcHkgKyAxNSkuYXR0cignZm9udC1zaXplJywgZm9udFNpemUpLnRleHQoYXJyb3cuc3RleHQgKyAnICgnICsgTnVtYmVyKGFycm93LngpLnRvRml4ZWQoMikgKyAnLCAnICsgTnVtYmVyKGFycm93LnkpLnRvRml4ZWQoMikgKyAnKScpOwogICAgICAgIH0gZWxzZSBpZiAodGlweCA8IDEwMCkgewogICAgICAgICAgYXJyb3cudGV4dC5hdHRyKCd4JywgdGlweCAtIDkwKS5hdHRyKCd5JywgdGlweSArIDE1KS5hdHRyKCdmb250LXNpemUnLCBmb250U2l6ZSkudGV4dChhcnJvdy5zdGV4dCArICcgKCcgKyBOdW1iZXIoYXJyb3cueCkudG9GaXhlZCgyKSArICcsICcgKyBOdW1iZXIoYXJyb3cueSkudG9GaXhlZCgyKSArICcpJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFycm93LnRleHQuYXR0cigneCcsIHRpcHggLSAxMTApLmF0dHIoJ3knLCB0aXB5ICsgMTUpLmF0dHIoJ2ZvbnQtc2l6ZScsIGZvbnRTaXplKS50ZXh0KGFycm93LnN0ZXh0ICsgJyAoJyArIE51bWJlcihhcnJvdy54KS50b0ZpeGVkKDIpICsgJywgJyArIE51bWJlcihhcnJvdy55KS50b0ZpeGVkKDIpICsgJyknKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjb252ZXJ0Q29vcmRzOiBmdW5jdGlvbiAoc3gsIHN5KSB7CiAgICAgIHZhciB4ID0gMiAqIHN4IC8gQXJyb3cud2lkdGggLSAxOwogICAgICB2YXIgeSA9IDEgLSAyICogc3kgLyBBcnJvdy5oZWlnaHQ7CgogICAgICBpZiAoeCA+IDEpIHsKICAgICAgICB4ID0gMTsKICAgICAgfSBlbHNlIGlmICh4IDwgLTEpIHsKICAgICAgICB4ID0gLTE7CiAgICAgIH0KCiAgICAgIGlmICh5ID4gMSkgewogICAgICAgIHkgPSAxOwogICAgICB9IGVsc2UgaWYgKHkgPCAtMSkgewogICAgICAgIHkgPSAtMTsKICAgICAgfQoKICAgICAgcmV0dXJuIFt4LCB5XTsKICAgIH0sCiAgICB1cGRhdGVBUFA6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLmR4ID0gQXJyb3cuckFycm93Lng7CiAgICAgIFZpcy5keSA9IEFycm93LnJBcnJvdy55OwogICAgICBWaXMudXggPSBBcnJvdy51QXJyb3cueDsKICAgICAgVmlzLnV5ID0gQXJyb3cudUFycm93Lnk7CiAgICB9CiAgfTsKICBBcnJvdy5zZXR1cCA9IHsKICAgIGluaXRDb25zdDogZnVuY3Rpb24gKCkgewogICAgICBBcnJvdy53aWR0aCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlcmFjdGl2ZS1hcnJvdycpLm9mZnNldFdpZHRoOwogICAgICBBcnJvdy5oZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZXJhY3RpdmUtYXJyb3cnKS5vZmZzZXRIZWlnaHQ7CiAgICAgIEFycm93LnN0cm9rZVdpZHRoID0gMjsKICAgICAgQXJyb3cudGlwUmFkaXVzID0gNTsKICAgIH0sCiAgICBpbml0T2JqZWN0czogZnVuY3Rpb24gKCkgewogICAgICBBcnJvdy5zdmcgPSBkMy5zZWxlY3QoJyNpbnRlcmFjdGl2ZS1hcnJvdycpLmFwcGVuZCgnc3ZnJykuYXR0cignd2lkdGgnLCBBcnJvdy53aWR0aCkuYXR0cignaGVpZ2h0JywgQXJyb3cuaGVpZ2h0KTsKICAgICAgQXJyb3cuc3ZnLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCAwKS5hdHRyKCJ5IiwgMCkuYXR0cigiaGVpZ2h0IiwgQXJyb3cuaGVpZ2h0KS5hdHRyKCJ3aWR0aCIsIEFycm93LndpZHRoKS5zdHlsZSgic3Ryb2tlIiwgJ2JsYWNrJykuc3R5bGUoImZpbGwiLCAibm9uZSIpLnN0eWxlKCJzdHJva2Utd2lkdGgiLCAxKTsKICAgICAgQXJyb3cuckFycm93ID0gewogICAgICAgIHg6IFZpcy5keCwKICAgICAgICB5OiBWaXMuZHksCiAgICAgICAgc3RleHQ6ICdkJwogICAgICB9OwogICAgICBBcnJvdy51QXJyb3cgPSB7CiAgICAgICAgeDogVmlzLnV4LAogICAgICAgIHk6IFZpcy51eSwKICAgICAgICBzdGV4dDogJ3UnCiAgICAgIH07CiAgICAgIEFycm93LnNldHVwLmluaXRBcnJvdyhBcnJvdy5yQXJyb3cpOwogICAgICBBcnJvdy5zZXR1cC5pbml0QXJyb3coQXJyb3cudUFycm93KTsKICAgIH0sCiAgICBpbml0RHJhZzogZnVuY3Rpb24gKCkgewogICAgICBmdW5jdGlvbiBkcmFnZ2VkKGFycm93KSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB4eSA9IEFycm93LmhlbHBlcnMuY29udmVydENvb3JkcyhkMy5ldmVudC54LCBkMy5ldmVudC55KTsKICAgICAgICAgIGFycm93LnggPSB4eVswXTsKICAgICAgICAgIGFycm93LnkgPSB4eVsxXTsKICAgICAgICAgIEFycm93LmhlbHBlcnMudXBkYXRlQXJyb3coYXJyb3cpOwogICAgICAgICAgQXJyb3cuaGVscGVycy51cGRhdGVBUFAoKTsgLy8gc3luYyBhcnJvdyB2YWx1ZXMgd2l0aCBtYWluIHZpcwoKICAgICAgICAgIFZpcy5jb3JlLnVwZGF0ZVNsaWRlcnMoKTsgLy8gdHJpZ2dlciB1cGRhdGUgb2Ygc2xpZGVycyBpbiB2aXMKICAgICAgICB9OwogICAgICB9CgogICAgICBBcnJvdy5yQXJyb3cudGlwLmNhbGwoZDMuZHJhZygpLm9uKCdkcmFnJywgZHJhZ2dlZChBcnJvdy5yQXJyb3cpKSk7CiAgICAgIEFycm93LnVBcnJvdy50aXAuY2FsbChkMy5kcmFnKCkub24oJ2RyYWcnLCBkcmFnZ2VkKEFycm93LnVBcnJvdykpKTsKICAgIH0sCiAgICBpbml0QXJyb3c6IGZ1bmN0aW9uIChhcnJvdykgewogICAgICBhcnJvdy5jb250YWluZXIgPSBBcnJvdy5zZXR1cC5jcmVhdGVBcnJvd0NvbnRhaW5lcigpOwogICAgICBhcnJvdy5ib2R5ID0gQXJyb3cuc2V0dXAuY3JlYXRlQXJyb3dCb2R5KGFycm93KTsKICAgICAgYXJyb3cudGlwID0gQXJyb3cuc2V0dXAuY3JlYXRlQXJyb3dUaXAoYXJyb3cpOwogICAgICBhcnJvdy50ZXh0ID0gQXJyb3cuc2V0dXAuY3JlYXRlQXJyb3dUZXh0KGFycm93KTsKICAgICAgQXJyb3cuaGVscGVycy51cGRhdGVBcnJvdyhhcnJvdyk7CiAgICB9LAogICAgY3JlYXRlQXJyb3dDb250YWluZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIEFycm93LnN2Zy5hcHBlbmQoJ3N2ZycpLmF0dHIoJ3dpZHRoJywgQXJyb3cud2lkdGgpLmF0dHIoJ2hlaWdodCcsIEFycm93LmhlaWdodCk7CiAgICB9LAogICAgY3JlYXRlQXJyb3dCb2R5OiBmdW5jdGlvbiAoYXJyb3cpIHsKICAgICAgcmV0dXJuIGFycm93LmNvbnRhaW5lci5hcHBlbmQoJ2xpbmUnKS5hdHRyKCd4MScsIEFycm93LndpZHRoIC8gMikuYXR0cigneTEnLCBBcnJvdy5oZWlnaHQgLyAyKS5hdHRyKCdzdHJva2Utd2lkdGgnLCBBcnJvdy5zdHJva2VXaWR0aCkuYXR0cignc3Ryb2tlJywgJ2JsYWNrJyk7CiAgICB9LAogICAgY3JlYXRlQXJyb3dUaXA6IGZ1bmN0aW9uIChhcnJvdykgewogICAgICByZXR1cm4gYXJyb3cuY29udGFpbmVyLmFwcGVuZCgnY2lyY2xlJykuYXR0cigncicsIEFycm93LnRpcFJhZGl1cyk7CiAgICB9LAogICAgY3JlYXRlQXJyb3dUZXh0OiBmdW5jdGlvbiAoYXJyb3cpIHsKICAgICAgcmV0dXJuIGFycm93LmNvbnRhaW5lci5hcHBlbmQoJ3RleHQnKTsKICAgIH0KICB9OwogIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBWaXMuaW5pdCk7Cn0="},{"version":3,"sources":["/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/src/2D_d3canvas.js"],"names":["d3","math","window","Vis","init","isRunning","setup","initConsts","initVars","Arrow","initDisplay","initGraph","initDispersionDrag","initSlider","start","_stoptime","_then","Date","now","core","frame","stop","cancelAnimationFrame","animationFrameLoop","t","update","animate","requestAnimationFrame","workers","calcParams","calcPos","calcPhase","context","clearRect","canvasx","canvasy","fillStyle","i","N","beginPath","arc","convertCanvasX","x","convertCanvasY","y","pointR","Math","PI","fill","round","Ny","strokeStyle","lineWidth","Nphase","moveTo","phasex","phasey","lineTo","stroke","updateSliders","dxRange","value","dx","dxDisplay","textContent","Number","toFixed","dyRange","dy","dyDisplay","uxRange","ux","uxDisplay","uyRange","uy","uyDisplay","updateDisplay","ukvec","kx","a","ky","kvec","dotproduct","abs","dot","dotDisplay","toString","crossproduct","pow","cross","crossDisplay","cx","dispersionGraphWidth","cy","dispersionGraphHeight","dispersionDot","attr","k","sqrt","w","dw","sin","lamb","Nx","j","n","offset","cos","v","vx","vy","m","mi","spacing","t_space","T","shift","document","getElementById","offsetWidth","offsetHeight","Array","canvas","select","append","node","getContext","scaleLinear","domain","range","omega_k","nx","ny","values","dispersionGraph","dispersionContext","color","scaleSequential","interpolateTurbo","path","geoPath","thresholds","contours","size","fillGraph","geometry","forEach","dispersionSVG","style","legendXOffset","legendYOffset","legendHeight","legendWidth","legendSVG","legendScale","call","axisLeft","text","dispersionDragged","event","rArrow","helpers","updateArrow","drag","on","addEventListener","parseFloat","draw","uArrow","initConst","initObjects","initDrag","drawArrow","arrow","tipx","width","tipy","height","fontSize","body","tip","stext","convertCoords","sx","sy","updateAPP","strokeWidth","tipRadius","svg","initArrow","dragged","xy","container","createArrowContainer","createArrowBody","createArrowTip","createArrowText"],"mappings":"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","sourcesContent":["import * as d3 from 'd3';\nimport * as math from 'mathjs';\n\nexport default function() {\n\nwindow.Vis = window.Vis || {};\n\nVis.init = function() {\n    Vis.isRunning = false;\n\n    Vis.setup.initConsts();\n    Vis.setup.initVars();\n\n    Arrow.init(); // init arrows\n\n    Vis.setup.initDisplay();\n    Vis.setup.initGraph();\n    Vis.setup.initDispersionDrag();\n    Vis.setup.initSlider();\n\n    Vis.start();\n};\n\nVis.start = function() {\n    if (Vis._stoptime) {\n        Vis._then += Date.now() - Vis._stoptime; // add stopped time\n    }\n\n    if (!Vis.isRunning) {\n        Vis.core.frame();\n        Vis.isRunning = true;\n    }\n};\n\nVis.stop = function() {\n    window.cancelAnimationFrame(Vis.animationFrameLoop);\n    Vis.isRunning = false;\n    Vis._stoptime = Date.now(); // record when animation paused\n};\n\nVis.core = {\n    frame: function() {\n        Vis.t = (Date.now() - Vis._then) / 250; // time since start in seconds\n\n        Vis.core.update();\n        Vis.core.animate();\n\n        Vis.animationFrameLoop = window.requestAnimationFrame(Vis.core.frame);\n    },\n\n    update: function() {\n        Vis.workers.calcParams();\n        Vis.workers.calcPos();\n        Vis.workers.calcPhase();\n    },\n\n    animate: function() {\n        Vis.context.clearRect(0, 0, Vis.canvasx, Vis.canvasy);\n        \n        Vis.context.fillStyle = 'orange';\n        for (let i=0; i < Vis.N; i++) {\n            Vis.context.beginPath();\n            Vis.context.arc(Vis.convertCanvasX(Vis.x[i]), Vis.convertCanvasY(Vis.y[i]), Vis.convertCanvasX(Vis.pointR), 0, 2*Math.PI);\n            Vis.context.fill();\n        }\n        \n        // pick the middle particle to track with a black dot \n        Vis.context.fillStyle = 'black';\n        Vis.context.beginPath();\n        Vis.context.arc(Vis.convertCanvasX(Vis.x[Math.round(Vis.N/2 - Vis.Ny/2)]), Vis.convertCanvasY(Vis.y[Math.round(Vis.N/2 - Vis.Ny/2)]), Vis.convertCanvasX(Vis.pointR*1.03), 0, 2*Math.PI);\n        Vis.context.fill();\n\n        // draw phase track\n        Vis.context.strokeStyle = 'green';\n        Vis.context.lineWidth = 3;\n        for (let i=0; i < Vis.Nphase; i++) {\n            Vis.context.beginPath();\n            Vis.context.moveTo(Vis.convertCanvasX(Vis.phasex[2*i]), Vis.convertCanvasY(Vis.phasey[2*i]));\n            Vis.context.lineTo(Vis.convertCanvasX(Vis.phasex[2*i+1]), Vis.convertCanvasY(Vis.phasey[2*i+1]));\n            Vis.context.stroke();\n        }\n    },\n\n    updateSliders: function() {\n        Vis.dxRange.value = Vis.dx;\n        Vis.dxDisplay.textContent = Number(Vis.dx).toFixed(2);\n\n        Vis.dyRange.value = Vis.dy;\n        Vis.dyDisplay.textContent = Number(Vis.dy).toFixed(2);\n\n        Vis.uxRange.value = Vis.ux;\n        Vis.uxDisplay.textContent = Number(Vis.ux).toFixed(2);\n\n        Vis.uyRange.value = Vis.uy;\n        Vis.uyDisplay.textContent = Number(Vis.uy).toFixed(2);\n\n        Vis.core.updateDisplay();\n    },\n\n    updateDisplay: function() {\n        let ukvec = [Vis.ux, Vis.uy, 0];\n        let kx = Vis.dx*Math.PI/Vis.a;\n        let ky = Vis.dy*Math.PI/Vis.a;\n        let kvec = [kx, ky, 0];\n\n        //Update the text for cross and dot products\n        let dotproduct = Math.round(100*Math.abs(math.dot(kvec, ukvec)))/100;\n        Vis.dotDisplay.textContent = dotproduct.toString();\n\n        let crossproduct = Math.round(Math.abs(100*Math.pow((Math.pow(math.cross(kvec, ukvec)[0], 2) + Math.pow(math.cross(kvec, ukvec)[1], 2) + Math.pow(math.cross(kvec, ukvec)[2], 2)), 0.5)))/100;\n        Vis.crossDisplay.textContent = crossproduct.toString();\n\n        //Update dot on the dispersion graph\n        var cx = Vis.dispersionGraphWidth*(Vis.dx+1)/2;\n        var cy = Vis.dispersionGraphHeight*(1-Vis.dy)/2;\n        Vis.dispersionDot.attr(\"cx\", cx).attr(\"cy\", cy);\n    }\n};\n\nVis.workers = {\n    calcParams: function() {\n        Vis.k = Math.sqrt(Vis.kx**2 + Vis.ky**2);\n        Vis.kx = Vis.dx * Math.PI / Vis.a;\n        Vis.ky = Vis.dy * Math.PI / Vis.a;\n\n        Vis.w = 2 * Vis.dw * Math.sqrt(Math.sin(Vis.kx * Vis.a / 2)**2 + Math.sin(Vis.ky * Vis.a / 2)**2);\n\n        Vis.lamb = 2*Math.PI/Vis.k; // update spacing of phase tracker \n    },\n\n    calcPos: function() {\n        for (let i=0; i < Vis.Nx; i++) {\n            for (let j=0; j < Vis.Ny; j++) {\n                let n = Vis.Ny * i + j;\n                let offset = Math.cos(Vis.kx*Vis.a*i + Vis.ky*Vis.a*j - Vis.w*Vis.t);\n\n                Vis.x[n] = i*Vis.a + Vis.ux * offset;\n                Vis.y[n] = j*Vis.a + Vis.uy * offset;\n            }\n        }\n    },\n\n    calcPhase: function() {\n        let v = Vis.w / Vis.k;\n        let vx = v * Vis.kx / Vis.k;\n        let vy = v * Vis.ky / Vis.k;\n\n        let m = vy / vx;                // gradient of line\n        let mi = vx / vy;               // inverse of gradient\n\n        var spacing;\n        var t_space;\n        if (m >= -1 && m <= 1) {\n            // do y processing\n            spacing = Vis.lamb * Vis.ky / Vis.k; // distance between phases \n            if (vy == 0) {\n                mi = 10000000;\n                t_space = 20;\n            } else {\n                t_space = spacing / vy;\n            }\n        } else {\n            // do x processing\n            spacing = Vis.lamb * Vis.kx / Vis.k;\n            if (vx == 0) {\n                m = 10000000;\n                t_space = 20;\n            } else {\n                t_space = spacing / vx;\n            }\n        }\n\n        let offset = 10;\n        let t = Vis.t % (Vis.Nx*t_space/2); // heuristic # of time spacings until wrap around \n\n        for (let i=0; i < Vis.Nphase; i++) {\n            let T = t + (i - Vis.Nphase/2)*t_space + Vis.shift; // shift each phase particle \n                                    // (+1 heuristic to get phase correct)\n\n            if (m >= -1 && m <= 1) {\n                // do x processing\n                let x = T*vx;\n                let y = m*(T*vx - Vis.Nx*Vis.a/2) + Vis.Ny*Vis.a/2;\n\n                Vis.phasex[2*i] = x - offset;\n                Vis.phasey[2*i] = y + mi*offset;\n\n                Vis.phasex[2*i+1] = x + offset;\n                Vis.phasey[2*i+1] = y - mi*offset;\n            } else {\n                // do y processing\n                let x = mi*(T*vy - Vis.Ny*Vis.a/2) + Vis.Nx*Vis.a/2;\n                let y = T*vy;\n\n                Vis.phasex[2*i] = x + m*offset;\n                Vis.phasey[2*i] = y - offset;\n\n                Vis.phasex[2*i+1] = x - m*offset;\n                Vis.phasey[2*i+1] = y + offset;\n            }\n\n            \n        }\n    }\n};\n\nVis.setup = {\n    initConsts: function() {\n        Vis.a = 1; // atomic spacing\n        Vis.dw = 1; // debye wavelength\n\n        Vis.Nx = 20; // # of atoms in x direction\n        Vis.Ny = 20; // # of atoms in y direction\n        Vis.N = Vis.Nx * Vis.Ny;\n\n        Vis.Nphase = 2*Vis.Nx;\n\n        Vis.canvasx = document.getElementById('main-vis').offsetWidth;\n        Vis.canvasy = document.getElementById('main-vis').offsetHeight;\n\n        Vis.pointR = 0.20 * Vis.a;\n    },\n\n    initVars: function() {\n        Vis._then = Date.now();\n\n        Vis.dx = 0.10; // % of max x wavenumber, (-1, 1)\n        Vis.dy = 0.10; // % of max y wavenumber, (-1, 1)\n\n        Vis.ux = -0.50; // x amplitude\n        Vis.uy = -0.50; // y amplitude\n\n        Vis.x = new Array(Vis.N);\n        Vis.y = new Array(Vis.N);\n\n        Vis.shift = -5.3;\n\n        Vis.phasex = new Array(2*Vis.Nphase); // requires two points to draw a line\n        Vis.phasey = new Array(2*Vis.Nphase);\n    },\n\n    initGraph: function() {\n        //Code for main-vis\n        Vis.canvas = d3.select('#main-vis')\n                       .append('canvas')\n                        .attr('width', Vis.canvasx)\n                        .attr('height', Vis.canvasy);\n        Vis.context = Vis.canvas.node().getContext('2d');\n\n        Vis.convertCanvasX = d3.scaleLinear()\n                                .domain([0, Vis.Nx*Vis.a])\n                                .range([0, Vis.canvasx]);\n        Vis.convertCanvasY = d3.scaleLinear()\n                                .domain([0, Vis.Ny*Vis.a])\n                                .range([Vis.canvasy, 0]);\n\n        //Code for dispersion graph\n        function omega_k (dx, dy) {\n            return Math.sqrt(4*1*(Math.pow(Math.sin(dx*Math.PI*1/2), 2) + Math.pow(Math.sin(dy*Math.PI*1/2), 2)));\n        }\n        \n        Vis.dispersionGraphWidth = document.getElementById('dispersion-graph').offsetWidth;\n        Vis.dispersionGraphHeight = document.getElementById('dispersion-graph').offsetHeight;\n\n        var nx = Vis.dispersionGraphWidth+1, ny = Vis.dispersionGraphHeight+1, values = new Array(nx*ny);\n        for (var i = 0; i < nx; i++){\n            for (var j = 0; j < ny ; j++){\n                var k = i + nx*j;\n                var dx = -1 + 2*i/nx;\n                var dy = -1 + 2*j/ny;\n                values[k] = omega_k (dx, dy);\n            }\n        }\n\n        Vis.dispersionGraph = d3.select('#dispersion-graph')\n                                .append('canvas')\n                                .attr('width', Vis.dispersionGraphWidth)\n                                .attr('height', Vis.dispersionGraphHeight);\n\n        Vis.dispersionContext = Vis.dispersionGraph.node().getContext('2d');  \n\n        //Making contour\n        var color = d3.scaleSequential(d3.interpolateTurbo).domain([0, 2.82]);\n        var path = d3.geoPath(null, Vis.dispersionContext);\n        var thresholds = d3.range(0, 2.82, 0.01);\n        var contours = d3.contours().size([nx, ny]);\n        \n        function fillGraph(geometry) {\n            Vis.dispersionContext.beginPath();\n            path(geometry);\n            Vis.dispersionContext.fillStyle = color(geometry.value);\n            Vis.dispersionContext.fill();\n        }\n        \n        contours\n        .thresholds(thresholds)\n        (values)\n        .forEach(fillGraph);\n\n        //Preparing SVG for dispersion dot and legend\n        Vis.dispersionSVG = d3.select('#dispersion-graph')\n                            .append(\"svg\")\n                            .attr('width', 1.4*Vis.dispersionGraphWidth)\n                            .attr('height', Vis.dispersionGraphHeight)\n                            .attr('transform', \"translate(0, \"+ -Vis.dispersionGraphHeight + \")\");\n\n        //Box to check if Canvas and SVG are aligned\n        Vis.dispersionSVG.append(\"rect\")\n                            .attr(\"x\", 0)\n                            .attr(\"y\", 0)\n                            .attr(\"height\", Vis.dispersionGraphHeight)\n                            .attr(\"width\", Vis.dispersionGraphWidth)\n                            .style(\"stroke\", 'black')\n                            .style(\"fill\", \"none\")\n                            .style(\"stroke-width\", 1);\n    \n        var legendXOffset = 1.175*Vis.dispersionGraphWidth;\n        var legendYOffset = 0.1*Vis.dispersionGraphHeight;\n        var legendHeight = 0.8*Vis.dispersionGraphHeight;\n        var legendWidth = 0.15*Vis.dispersionGraphWidth;\n        //Box for legend scale\n        Vis.legendSVG = Vis.dispersionSVG.append(\"rect\")\n                            .attr(\"x\", legendXOffset)\n                            .attr(\"y\", legendYOffset)\n                            .attr(\"height\", legendHeight)\n                            .attr(\"width\", legendWidth)\n                            .style(\"stroke\", 'black')\n                            .style(\"fill\", \"none\")\n                            .style(\"stroke-width\", 1);\n                            \n        for (var i = 0; i < 14 ; i++){\n            Vis.dispersionSVG.append(\"rect\")\n            .attr(\"x\", legendXOffset)\n            .attr(\"y\", legendHeight*(14-i)/14)\n            .attr(\"transform\", \"translate(0,\" + legendYOffset/2.2 + \")\")\n            .attr(\"height\", legendHeight/14)\n            .attr(\"width\", legendWidth)\n            .style(\"fill\", color(2.82*i/14));\n        }\n\n        var legendScale = d3.scaleLinear()\n            .domain([0, 2.8])\n            .range([legendHeight+legendYOffset, legendYOffset]);\n\n        //Legend scale axis\n        Vis.dispersionSVG.append('g')\n        .attr(\"transform\", \"translate(\"+ legendXOffset+ \", 0)\")  // Position of x axis\n        .call(d3.axisLeft(legendScale));\n\n        //Legend scale title\n        Vis.dispersionSVG.append(\"text\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"font-style\", \"italic\")\n        .attr('font-size', 10*legendWidth/25)\n        .attr(\"x\", legendXOffset+legendWidth)\n        .attr(\"y\", legendYOffset/2)\n        .text(\"(k) = E/\");\n\n        Vis.dispersionDot = Vis.dispersionSVG\n                                .append('circle')\n                                .attr(\"cx\", 0)\n                                .attr(\"cy\", 0)\n                                .attr(\"r\", 5)\n                                .attr(\"fill\", \"black\");\n\n        \n    },\n\n    initDispersionDrag: function() {\n        function dispersionDragged() {\n            return function() {\n                var x = 2*d3.event.x/Vis.dispersionGraphWidth - 1;\n                var y = 1 - 2*d3.event.y/Vis.dispersionGraphHeight;\n                if (x > 1) {\n                    x = 1;\n                } else if (x < -1){\n                    x = -1;\n                }\n                if (y > 1) {\n                    y = 1;\n                } else if (y < -1) {\n                    y = -1;\n                }\n                Vis.dx = x;\n                Vis.dy = y;\n                Arrow.rArrow.x = x;\n                Arrow.rArrow.y = y;\n                Arrow.helpers.updateArrow(Arrow.rArrow);\n                Vis.core.updateSliders(); // trigger update of sliders in vis\n            };\n        }\n        Vis.dispersionDot.call(d3.drag().on('drag', dispersionDragged(Vis.dispersionDot)));\n    },\n\n    initSlider: function() {\n        // r sliders\n        Vis.dxRange = document.getElementById('dx-range');\n        Vis.dxDisplay = document.getElementById('dx-display');\n\n        Vis.dxRange.addEventListener('input', function() {\n            Vis.dx = Vis.dxRange.value;\n            Vis.dxDisplay.textContent = Vis.dx;\n\n            Arrow.rArrow.x = parseFloat(Vis.dx);\n            Arrow.core.draw();\n\n            Vis.core.updateDisplay();\n        });\n\n        Vis.dyRange = document.getElementById('dy-range');\n        Vis.dyDisplay = document.getElementById('dy-display');\n\n        Vis.dyRange.addEventListener('input', function() {\n            Vis.dy = Vis.dyRange.value;\n            Vis.dyDisplay.textContent = Vis.dy;\n\n            Arrow.rArrow.y = parseFloat(Vis.dy);\n            Arrow.core.draw();\n\n            Vis.core.updateDisplay();\n        });\n\n        // u sliders\n        Vis.uxRange = document.getElementById('ukx-range');\n        Vis.uxDisplay = document.getElementById('ukx-display');\n\n        Vis.uxRange.addEventListener('input', function() {\n            Vis.ux = Vis.uxRange.value;\n            Vis.uxDisplay.textContent = Vis.ux;\n\n            Arrow.uArrow.x = parseFloat(Vis.ux);\n            Arrow.core.draw();\n\n            Vis.core.updateDisplay();\n        });\n\n        Vis.uyRange = document.getElementById('uky-range');\n        Vis.uyDisplay = document.getElementById('uky-display');\n\n        Vis.uyRange.addEventListener('input', function() {\n            Vis.uy = Vis.uyRange.value;\n            Vis.uyDisplay.textContent = Vis.uy;\n\n            Arrow.uArrow.y = parseFloat(Vis.uy);\n            Arrow.core.draw();\n\n            Vis.core.updateDisplay();\n        });\n\n        Vis.core.updateSliders();\n    },\n\n    initDisplay: function() {\n        Vis.dotDisplay = document.getElementById(\"dotproduct\");\n        Vis.crossDisplay = document.getElementById(\"crossproduct\");\n    }\n};\n\n//---------------------------------//\n// Interactive Arrow Object        //\n//---------------------------------//\n\nwindow.Arrow = window.Arrow || {};\n\nArrow.init = function() {\n    Arrow.setup.initConst();\n    Arrow.setup.initObjects();\n    Arrow.setup.initDrag();\n\n};\n\nArrow.core = {\n    draw: function() {\n        Arrow.core.drawArrow(Arrow.rArrow);\n        Arrow.core.drawArrow(Arrow.uArrow);\n    },\n\n    drawArrow: function(arrow) {\n        Arrow.helpers.updateArrow(arrow);\n    }\n};\n\nArrow.helpers = {\n    updateArrow: function(arrow) {\n        var tipx = (arrow.x + 1)*Arrow.width/2;\n        var tipy = (1 - arrow.y)*Arrow.height/2;\n        var fontSize = 12;\n\n        arrow.body.attr('x2', tipx)\n                  .attr('y2', tipy);\n        arrow.tip.attr('cx', tipx)\n                 .attr('cy', tipy);\n\n        if (tipy > 22) {\n            if (tipx < 85) {\n                arrow.text.attr('x', tipx + 10)\n                .attr('y', tipy - 7.5)\n                .attr('font-size', fontSize)\n                .text(arrow.stext + ' (' + Number(arrow.x).toFixed(2) + ', ' + Number(arrow.y).toFixed(2) + ')');\n            } else if (tipx < 100) {\n                arrow.text.attr('x', tipx + 10 - 80)\n                .attr('y', tipy - 7.5)\n                .attr('font-size', fontSize)\n                .text(arrow.stext + ' (' + Number(arrow.x).toFixed(2) + ', ' + Number(arrow.y).toFixed(2) + ')');\n            } else {\n                arrow.text.attr('x', tipx + 10 - 105)\n                .attr('y', tipy - 7.5)\n                .attr('font-size', fontSize)\n                .text(arrow.stext + ' (' + Number(arrow.x).toFixed(2) + ', ' + Number(arrow.y).toFixed(2) + ')');\n            }   \n        } else {\n            if (tipx < 85) {\n                arrow.text.attr('x', tipx)\n                .attr('y', tipy + 15)\n                .attr('font-size', fontSize)\n                .text(arrow.stext + ' (' + Number(arrow.x).toFixed(2) + ', ' + Number(arrow.y).toFixed(2) + ')');\n            } else if (tipx < 100) {\n                arrow.text.attr('x', tipx - 90)\n                .attr('y', tipy + 15)\n                .attr('font-size', fontSize)\n                .text(arrow.stext + ' (' + Number(arrow.x).toFixed(2) + ', ' + Number(arrow.y).toFixed(2) + ')');\n            } else {\n                arrow.text.attr('x', tipx - 110)\n                .attr('y', tipy + 15)\n                .attr('font-size', fontSize)\n                .text(arrow.stext + ' (' + Number(arrow.x).toFixed(2) + ', ' + Number(arrow.y).toFixed(2) + ')');\n            }   \n        }\n\n\n    },\n\n    convertCoords: function(sx, sy) {\n        var x = 2*sx/Arrow.width - 1;\n        var y = 1 - 2*sy/Arrow.height;\n        if (x > 1) {\n            x = 1;\n        } else if (x < -1){\n            x = -1;\n        }\n        if (y > 1) {\n            y = 1;\n        } else if (y < -1) {\n            y = -1;\n        }\n        return [x, y];\n    },\n\n    updateAPP: function() {\n        Vis.dx = Arrow.rArrow.x;\n        Vis.dy = Arrow.rArrow.y;\n\n        Vis.ux = Arrow.uArrow.x;\n        Vis.uy = Arrow.uArrow.y;\n    }\n};\n\nArrow.setup = {\n    initConst: function() {\n        Arrow.width = document.getElementById('interactive-arrow').offsetWidth;\n        Arrow.height = document.getElementById('interactive-arrow').offsetHeight;\n\n        Arrow.strokeWidth = 2;\n        Arrow.tipRadius = 5;\n    },\n\n    initObjects: function() {\n        Arrow.svg = d3.select('#interactive-arrow')\n        .append('svg')\n        .attr('width', Arrow.width)\n        .attr('height', Arrow.height);\n\n        Arrow.svg.append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"height\", Arrow.height)\n        .attr(\"width\", Arrow.width)\n        .style(\"stroke\", 'black')\n        .style(\"fill\", \"none\")\n        .style(\"stroke-width\", 1);\n\n        Arrow.rArrow = {\n            x: Vis.dx,\n            y: Vis.dy,\n            stext: 'd'\n        };\n\n        Arrow.uArrow = {\n            x: Vis.ux,\n            y: Vis.uy,\n            stext: 'u'\n        };\n\n        Arrow.setup.initArrow(Arrow.rArrow);\n        Arrow.setup.initArrow(Arrow.uArrow);\n    },\n\n    initDrag: function() {\n        function dragged(arrow) {\n            return function() {\n                var xy = Arrow.helpers.convertCoords(d3.event.x, d3.event.y);\n                arrow.x = xy[0];\n                arrow.y = xy[1];\n                Arrow.helpers.updateArrow(arrow);\n                Arrow.helpers.updateAPP(); // sync arrow values with main vis\n                Vis.core.updateSliders(); // trigger update of sliders in vis\n            };\n        }\n        Arrow.rArrow.tip.call(d3.drag().on('drag', dragged(Arrow.rArrow)));\n        Arrow.uArrow.tip.call(d3.drag().on('drag', dragged(Arrow.uArrow)));\n    },\n\n    initArrow: function(arrow) {\n        arrow.container = Arrow.setup.createArrowContainer();\n        arrow.body = Arrow.setup.createArrowBody(arrow);\n        arrow.tip = Arrow.setup.createArrowTip(arrow);\n        arrow.text = Arrow.setup.createArrowText(arrow);\n\n        Arrow.helpers.updateArrow(arrow);\n    },\n\n    createArrowContainer: function() {\n        return Arrow.svg.append('svg')\n                        .attr('width', Arrow.width)\n                        .attr('height', Arrow.height);\n    },\n\n    createArrowBody: function(arrow) {\n        return arrow.container.append('line')\n                                  .attr('x1', Arrow.width/2).attr('y1', Arrow.height/2)\n                                  .attr('stroke-width', Arrow.strokeWidth)\n                                  .attr('stroke', 'black');\n    },\n\n    createArrowTip: function(arrow) {\n        return arrow.container.append('circle')\n                              .attr('r', Arrow.tipRadius);\n    },\n\n    createArrowText: function(arrow) {\n        return arrow.container.append('text');\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', Vis.init);\n}"]}]}